---
import Layout from "../layouts/Layout.astro";

---

<Layout />

<script>
  import * as THREE from 'three';
  import { OrbitControls } from 'three/addons';

	function createRenderer(clearColor: string) {
		const renderer = new THREE.WebGLRenderer({ antialias: true });
		renderer.setClearColor(clearColor);
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);
		return renderer;
	}

  const scene = new THREE.Scene();
	const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = createRenderer("white");
  const controls = new OrbitControls(camera, renderer.domElement);

  camera.position.z = 10;
	controls.update();

  const planeGeo = new THREE.PlaneGeometry(1, 1);
  const planeMat = new THREE.MeshBasicMaterial({ color: 0x359bdb, side: THREE.DoubleSide });
  const plane = new THREE.Mesh(planeGeo, planeMat);
  scene.add(plane);

  function animate() {
		requestAnimationFrame( animate );

		// TODO

		renderer.render( scene, camera );
	}

	animate();
</script>
